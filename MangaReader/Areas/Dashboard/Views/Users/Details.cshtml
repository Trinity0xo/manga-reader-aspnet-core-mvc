@model MangaReader.Models.User
@using MangaReader.Utils

@{
    ViewData["Title"] = "Người dùng";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
    var avatarsFolder = ViewBag.AvatarsFolder as string;
    var basePath = ViewBag.BasePath as string;
}

<nav aria-label="breadcrumb">
    <ol class="breadcrumb mb-0">
        <li class="breadcrumb-item">
            <a class="text-decoration-none" asp-area="Dashboard" asp-controller="Home" asp-action="Index">Dashboard</a>
        </li>
        <li class="breadcrumb-item">
            <a class="text-decoration-none" asp-area="Dashboard" asp-controller="Users" asp-action="Index">Người dùng</a>
        </li>
        <li class="breadcrumb-item active" aria-current="page">
            @Model.Email
        </li>
    </ol>
</nav>


<h3 class="mb-0">Chi tiết người dùng <span class="text-primary">@Model.Email</span></h3>


<div class="card shadow-sm p-3 rounded-0">
    <dl class="row">
        <dt class="col-sm-2">@Html.DisplayNameFor(model => model.Avatar)</dt>
        <dd class="col-sm-10">
            <img src="@(string.IsNullOrEmpty(Model.Avatar)
                        ? "/images/default-avatar.png"
                        : Url.Content($"/{basePath}/{avatarsFolder}/{Model.Avatar}"))"
                 class="img-thumbnail rounded-circle" alt="@(Model.Avatar != null ? Model.Avatar : " default-avatar.png")" style="max-width: 150px; max-height: 150px; object-fit: cover;" />
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.FirstName)
        </dt>
        <dd class="col-sm-10">
            @Model.FirstName
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.LastName)
        </dt>
        <dd class="col-sm-10">
            @Model.LastName
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Email)
        </dt>
        <dd class="col-sm-10">
            @Model.Email
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.UserRoles.First().Role.Name)
        </dt>
        <dd class="col-sm-10">
            @Model.UserRoles.FirstOrDefault()?.Role.DisplayName
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.CreatedAt)
        </dt>
        <dd class="col-sm-10">
            @Model.CreatedAt.ToString("yyyy-MM-dd HH:mm")
        </dd>

        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.UpdatedAt)
        </dt>
        <dd class="col-sm-10">
            @Model.UpdatedAt.ToString("yyyy-MM-dd HH:mm")
        </dd>
    </dl>

    <div class="d-flex flex-column flex-sm-row gap-2">
        <a class="btn btn-warning text-white" asp-area="Dashboard" asp-controller="Users" asp-action="Edit" asp-route-id="@Model?.Id">Cập nhật</a>
        <a class="btn btn-secondary" asp-area="Dashboard" asp-controller="Users" asp-action="Index">Quay lại</a>
    </div>
</div>

